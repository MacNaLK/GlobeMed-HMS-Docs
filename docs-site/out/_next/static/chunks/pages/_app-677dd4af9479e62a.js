(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{897:()=>{},983:()=>{},6556:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return a(7016)}])},7016:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var o=a(7876);a(983),a(897);var s=a(4232);function i(e){let{Component:t,pageProps:a}=e;return(0,s.useEffect)(()=>{class e{init(){this.addImageClickListeners(),document.addEventListener("keydown",e=>this.handleKeydown(e))}addImageClickListeners(){document.querySelectorAll("img").forEach(e=>{e.width>100&&e.height>100&&(e.classList.add("clickable-image"),e.addEventListener("click",e=>this.openPopup(e.target)))})}openPopup(e){this.currentImage=e,this.currentScale=1,this.dragOffset={x:0,y:0},this.overlay=document.createElement("div"),this.overlay.className="image-popup-overlay";let t=document.createElement("div");t.className="image-popup-container";let a=document.createElement("img");a.src=e.src,a.alt=e.alt||"Popup image",a.className="image-popup-image",a.draggable=!1;let o=this.createControls(),s=document.createElement("div");s.className="image-popup-zoom-info",s.textContent="Zoom: 100%",this.addPopupEventListeners(a,s),t.appendChild(a),t.appendChild(o),t.appendChild(s),this.overlay.appendChild(t),document.body.appendChild(this.overlay),document.body.style.overflow="hidden",this.overlay.addEventListener("click",e=>{e.target===this.overlay&&this.closePopup()})}createControls(){let e=document.createElement("div");e.className="image-popup-controls";let t=document.createElement("button");t.className="image-popup-btn",t.innerHTML="+",t.title="Zoom In",t.addEventListener("click",()=>this.zoomIn());let a=document.createElement("button");a.className="image-popup-btn",a.innerHTML="−",a.title="Zoom Out",a.addEventListener("click",()=>this.zoomOut());let o=document.createElement("button");o.className="image-popup-btn",o.innerHTML="⟲",o.title="Reset Zoom",o.addEventListener("click",()=>this.resetZoom());let s=document.createElement("button");return s.className="image-popup-btn image-popup-close",s.innerHTML="\xd7",s.title="Close",s.addEventListener("click",()=>this.closePopup()),e.appendChild(t),e.appendChild(a),e.appendChild(o),e.appendChild(s),e}addPopupEventListeners(e,t){e.addEventListener("wheel",e=>{e.preventDefault(),e.deltaY<0?this.zoomIn():this.zoomOut(),this.updateZoomInfo(t)}),e.addEventListener("mousedown",t=>this.startDrag(t,e)),document.addEventListener("mousemove",t=>this.handleDrag(t,e)),document.addEventListener("mouseup",()=>this.endDrag(e)),e.addEventListener("touchstart",t=>this.startDrag(t,e),{passive:!1}),document.addEventListener("touchmove",t=>this.handleDrag(t,e),{passive:!1}),document.addEventListener("touchend",()=>this.endDrag(e))}startDrag(e,t){this.isDragging=!0,t.classList.add("dragging");let a=e.clientX||e.touches&&e.touches[0].clientX,o=e.clientY||e.touches&&e.touches[0].clientY;this.dragStart={x:a-this.dragOffset.x,y:o-this.dragOffset.y},e.preventDefault()}handleDrag(e,t){if(!this.isDragging)return;let a=e.clientX||e.touches&&e.touches[0].clientX,o=e.clientY||e.touches&&e.touches[0].clientY;this.dragOffset={x:a-this.dragStart.x,y:o-this.dragStart.y},this.updateImageTransform(t),e.preventDefault()}endDrag(e){this.isDragging=!1,e.classList.remove("dragging")}zoomIn(){if(this.currentScale<this.maxScale){this.currentScale+=this.scaleStep;let e=this.overlay.querySelector(".image-popup-image"),t=this.overlay.querySelector(".image-popup-zoom-info");this.updateImageTransform(e),this.updateZoomInfo(t)}}zoomOut(){if(this.currentScale>this.minScale){this.currentScale-=this.scaleStep;let e=this.overlay.querySelector(".image-popup-image"),t=this.overlay.querySelector(".image-popup-zoom-info");this.updateImageTransform(e),this.updateZoomInfo(t)}}resetZoom(){this.currentScale=1,this.dragOffset={x:0,y:0};let e=this.overlay.querySelector(".image-popup-image"),t=this.overlay.querySelector(".image-popup-zoom-info");this.updateImageTransform(e),this.updateZoomInfo(t)}updateImageTransform(e){e.style.transform="scale(".concat(this.currentScale,") translate(").concat(this.dragOffset.x/this.currentScale,"px, ").concat(this.dragOffset.y/this.currentScale,"px)")}updateZoomInfo(e){e.textContent="Zoom: ".concat(Math.round(100*this.currentScale),"%")}handleKeydown(e){if(this.overlay)switch(e.key){case"Escape":this.closePopup();break;case"+":case"=":e.preventDefault(),this.zoomIn(),this.updateZoomInfo(this.overlay.querySelector(".image-popup-zoom-info"));break;case"-":e.preventDefault(),this.zoomOut(),this.updateZoomInfo(this.overlay.querySelector(".image-popup-zoom-info"));break;case"0":e.preventDefault(),this.resetZoom(),this.updateZoomInfo(this.overlay.querySelector(".image-popup-zoom-info"))}}closePopup(){this.overlay&&(document.body.style.overflow="",this.overlay.remove(),this.overlay=null,this.currentImage=null)}refresh(){this.addImageClickListeners()}constructor(){this.currentScale=1,this.minScale=.5,this.maxScale=3,this.scaleStep=.25,this.isDragging=!1,this.dragStart={x:0,y:0},this.dragOffset={x:0,y:0},this.currentImage=null,this.overlay=null,this.init()}}let t=new e,a=()=>{setTimeout(()=>{t&&t.refresh()},100)};if(window.next&&window.next.router)return window.next.router.events.on("routeChangeComplete",a),()=>{window.next.router.events.off("routeChangeComplete",a)}},[]),(0,o.jsx)(t,{...a})}}},e=>{var t=t=>e(e.s=t);e.O(0,[593,792],()=>(t(6556),t(6296))),_N_E=e.O()}]);